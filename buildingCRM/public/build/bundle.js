var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function p(t,e){t.value=null==e?"":e}let g;function $(t){g=t}function v(){const t=function(){if(!g)throw new Error("Function called outside component initialization");return g}();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(e,n,{cancelable:o});return r.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}const b=[],y=[];let x=[];const E=[],k=Promise.resolve();let _=!1;function w(t){x.push(t)}const C=new Set;let S=0;function j(){if(0!==S)return;const t=g;do{try{for(;S<b.length;){const t=b[S];S++,$(t),O(t.$$)}}catch(t){throw b.length=0,S=0,t}for($(null),b.length=0,S=0;y.length;)y.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];C.has(e)||(C.add(e),e())}x.length=0}while(b.length);for(;E.length;)E.pop()();_=!1,C.clear(),$(t)}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const T=new Set;let A;function N(t,e){t&&t.i&&(T.delete(t),t.i(e))}function L(t,e,n,o){if(t&&t.o){if(T.has(t))return;T.add(t),A.c.push((()=>{T.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function M(t){t&&t.c()}function P(t,n,s,c){const{fragment:l,after_update:u}=t.$$;l&&l.m(n,s),c||w((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(w)}function q(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),x=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(b.push(t),_||(_=!0,k.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,r,s,c,l,i,a,f=[-1]){const d=g;$(e);const h=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};a&&a(h.root);let m=!1;if(h.ctx=s?s(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),m&&R(e,t)),n})):[],h.update(),m=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();r.intro&&N(e.$$.fragment),P(e,r.target,r.anchor,r.customElement),j()}$(d)}class D{$destroy(){q(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(e){let n;return{c(){n=i("h1"),n.textContent="SUPER CRM",h(n,"class","svelte-140yqvv")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}class J extends D{constructor(t){super(),z(this,t,null,H,s,{})}}class B extends D{constructor(t){super(),z(this,t,null,null,s,{})}}function F(e){let n,r,s,a,m,g,$,v,b,y,x,E;return{c(){n=i("div"),r=i("input"),s=f(),a=i("input"),m=f(),g=i("input"),$=f(),v=i("input"),b=f(),y=i("button"),y.innerHTML="<b>+</b>",h(r,"placeholder","Name"),h(r,"class","svelte-enukfg"),h(a,"placeholder","Email"),h(a,"class","svelte-enukfg"),h(g,"placeholder","Address"),h(g,"class","svelte-enukfg"),h(v,"placeholder","Leads (asd, sdf, ...)"),h(v,"class","svelte-enukfg"),h(y,"class","svelte-enukfg"),h(n,"id","inputCollection"),h(n,"class","svelte-enukfg")},m(t,o){l(t,n,o),c(n,r),p(r,e[0]),c(n,s),c(n,a),p(a,e[1]),c(n,m),c(n,g),p(g,e[2]),c(n,$),c(n,v),p(v,e[3]),c(n,b),c(n,y),x||(E=[d(r,"input",e[6]),d(r,"keydown",e[5]),d(a,"input",e[7]),d(a,"keydown",e[5]),d(g,"input",e[8]),d(g,"keydown",e[5]),d(v,"input",e[9]),d(v,"keydown",e[5]),d(y,"click",e[4])],x=!0)},p(t,[e]){1&e&&r.value!==t[0]&&p(r,t[0]),2&e&&a.value!==t[1]&&p(a,t[1]),4&e&&g.value!==t[2]&&p(g,t[2]),8&e&&v.value!==t[3]&&p(v,t[3])},i:t,o:t,d(t){t&&u(n),x=!1,o(E)}}}function I(t,e,n){const o=v();let r="",s="",c="",l="";async function u(t){if(!i())return;const e={name:String(r),email:String(s),address:String(c),leads:String(l)};try{const t=await fetch("http://localhost:3000/addCustomer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();console.log(Object.values(e).join(", ")),o("ping")}else console.error("Error:",t.statusText)}catch(t){console.error("Error:",t)}}function i(){return""!==r.trim()&&""!==s.trim()&&""!==c.trim()&&""!==l.trim()}return[r,s,c,l,u,function(t){if("Enter"!==t.key)return;if(i())return void u();t.preventDefault();const e=Array.from(document.querySelectorAll("#inputCollection input")),n=e.findIndex((e=>e===t.target))+1;n<e.length&&e[n].focus()},function(){r=this.value,n(0,r)},function(){s=this.value,n(1,s)},function(){c=this.value,n(2,c)},function(){l=this.value,n(3,l)}]}class U extends D{constructor(t){super(),z(this,t,I,F,s,{})}}function G(t,e,n){const o=t.slice();return o[4]=e[n],o}function K(t){let e,n,o,r,s,p,g,$,v,b,y,x,E,k,_,w,C,S=t[4].name+"",j=t[4].email+"",O=t[4].address+"",T=t[4].leads+"";function A(){return t[3](t[4])}return{c(){e=i("div"),n=i("span"),o=a(S),r=f(),s=i("span"),p=a(j),g=f(),$=i("span"),v=a(O),b=f(),y=i("span"),x=a(T),E=f(),k=i("button"),k.innerHTML="<b>-</b>",_=f(),h(n,"class","name svelte-1clsxsb"),h(s,"class","email svelte-1clsxsb"),h($,"class","address svelte-1clsxsb"),h(y,"class","leads svelte-1clsxsb"),h(k,"class","svelte-1clsxsb"),h(e,"class","item svelte-1clsxsb")},m(t,u){l(t,e,u),c(e,n),c(n,o),c(e,r),c(e,s),c(s,p),c(e,g),c(e,$),c($,v),c(e,b),c(e,y),c(y,x),c(e,E),c(e,k),c(e,_),w||(C=d(k,"click",A),w=!0)},p(e,n){t=e,1&n&&S!==(S=t[4].name+"")&&m(o,S),1&n&&j!==(j=t[4].email+"")&&m(p,j),1&n&&O!==(O=t[4].address+"")&&m(v,O),1&n&&T!==(T=t[4].leads+"")&&m(x,T)},d(t){t&&u(e),w=!1,C()}}}function Q(e){let n,o=e[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=K(G(e,o,t));return{c(){n=i("div");for(let t=0;t<r.length;t+=1)r[t].c();h(n,"id","list"),h(n,"class","svelte-1clsxsb")},m(t,e){l(t,n,e);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null)},p(t,[e]){if(3&e){let s;for(o=t[0],s=0;s<o.length;s+=1){const c=G(t,o,s);r[s]?r[s].p(c,e):(r[s]=K(c),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},i:t,o:t,d(t){t&&u(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function V(t,e,n){let o=[];function r(){fetch("http://localhost:3000/getCustomers").then((t=>t.json())).then((t=>{n(0,o=t)})).catch((t=>{console.error("Error fetching customers:",t)}))}async function s(t){const{name:e,email:r,address:s,leads:c}=t,l=await fetch("http://localhost:3000/removeCustomer",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:r,address:s,leads:c})});l.ok?console.log("Removed "+e+r+s+c):console.error("Error removing "+e+l.status),n(0,o=o.filter((e=>e!==t)))}r();return[o,s,r,t=>s(t)]}class W extends D{constructor(t){super(),z(this,t,V,Q,s,{getCustomers:2})}get getCustomers(){return this.$$.ctx[2]}}function X(t){let e,n,o,r,s,a,d,m,p;e=new J({}),r=new U({}),r.$on("ping",t[1]);return a=new W({props:{}}),t[2](a),m=new B({}),{c(){M(e.$$.fragment),n=f(),o=i("main"),M(r.$$.fragment),s=f(),M(a.$$.fragment),d=f(),M(m.$$.fragment),h(o,"class","svelte-1owb68z")},m(t,u){P(e,t,u),l(t,n,u),l(t,o,u),P(r,o,null),c(o,s),P(a,o,null),l(t,d,u),P(m,t,u),p=!0},p(t,[e]){a.$set({})},i(t){p||(N(e.$$.fragment,t),N(r.$$.fragment,t),N(a.$$.fragment,t),N(m.$$.fragment,t),p=!0)},o(t){L(e.$$.fragment,t),L(r.$$.fragment,t),L(a.$$.fragment,t),L(m.$$.fragment,t),p=!1},d(s){q(e,s),s&&u(n),s&&u(o),q(r),t[2](null),q(a),s&&u(d),q(m,s)}}}function Y(t,e,n){let o;return[o,function(){o.getCustomers()},function(t){y[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}return new class extends D{constructor(t){super(),z(this,t,Y,X,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){t.value=null==e?"":e}let g;function $(t){g=t}function v(){const t=function(){if(!g)throw new Error("Function called outside component initialization");return g}();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}(e,n,{cancelable:o});return s.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}const b=[],y=[];let x=[];const k=[],E=Promise.resolve();let w=!1;function C(t){x.push(t)}const _=new Set;let S=0;function O(){if(0!==S)return;const t=g;do{try{for(;S<b.length;){const t=b[S];S++,$(t),j(t.$$)}}catch(t){throw b.length=0,S=0,t}for($(null),b.length=0,S=0;y.length;)y.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];_.has(e)||(_.add(e),e())}x.length=0}while(b.length);for(;k.length;)k.pop()();w=!1,_.clear(),$(t)}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const T=new Set;let z;function L(t,e){t&&t.i&&(T.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(T.has(t))return;T.add(t),z.c.push((()=>{T.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function P(t){t&&t.c()}function A(t,n,r,c){const{fragment:l,after_update:u}=t.$$;l&&l.m(n,r),c||C((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(C)}function M(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),x=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(b.push(t),w||(w=!0,E.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,s,r,c,l,i,a,f=[-1]){const d=g;$(e);const p=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||d.$$.root};a&&a(p.root);let m=!1;if(p.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&l(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),m&&R(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();s.intro&&L(e.$$.fragment),A(e,s.target,s.anchor,s.customElement),O()}$(d)}class B{$destroy(){M(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(e){let n;return{c(){n=i("h1"),n.textContent="SUPER CRM",p(n,"class","svelte-140yqvv")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}class U extends B{constructor(t){super(),q(this,t,null,J,r,{})}}class D extends B{constructor(t){super(),q(this,t,null,null,r,{})}}function H(e){let n,s,r,a,m,g,$,v,b,y,x,k;return{c(){n=i("div"),s=i("input"),r=f(),a=i("input"),m=f(),g=i("input"),$=f(),v=i("input"),b=f(),y=i("button"),y.innerHTML="<b>+</b>",p(s,"placeholder","Name"),p(s,"class","svelte-enukfg"),p(a,"placeholder","Email"),p(a,"class","svelte-enukfg"),p(g,"placeholder","Address"),p(g,"class","svelte-enukfg"),p(v,"placeholder","Leads (asd, sdf, ...)"),p(v,"class","svelte-enukfg"),p(y,"class","svelte-enukfg"),p(n,"id","inputCollection"),p(n,"class","svelte-enukfg")},m(t,o){l(t,n,o),c(n,s),h(s,e[0]),c(n,r),c(n,a),h(a,e[1]),c(n,m),c(n,g),h(g,e[2]),c(n,$),c(n,v),h(v,e[3]),c(n,b),c(n,y),x||(k=[d(s,"input",e[6]),d(s,"keydown",e[5]),d(a,"input",e[7]),d(a,"keydown",e[5]),d(g,"input",e[8]),d(g,"keydown",e[5]),d(v,"input",e[9]),d(v,"keydown",e[5]),d(y,"click",e[4])],x=!0)},p(t,[e]){1&e&&s.value!==t[0]&&h(s,t[0]),2&e&&a.value!==t[1]&&h(a,t[1]),4&e&&g.value!==t[2]&&h(g,t[2]),8&e&&v.value!==t[3]&&h(v,t[3])},i:t,o:t,d(t){t&&u(n),x=!1,o(k)}}}function I(t,e,n){const o=v();let s="",r="",c="",l="";async function u(t){if(!i())return;const e={name:String(s),email:String(r),address:String(c),leads:String(l)};try{const t=await fetch("http://localhost:3000/addCustomer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();console.log(Object.values(e).join(", ")),o("addedCustomer")}else console.error("Error:",t.statusText)}catch(t){console.error("Error:",t)}}function i(){return""!==s.trim()&&""!==r.trim()&&""!==c.trim()&&""!==l.trim()}return[s,r,c,l,u,function(t){if("Enter"!==t.key)return;if(i())return void u();t.preventDefault();const e=Array.from(document.querySelectorAll("#inputCollection input")),n=e.findIndex((e=>e===t.target))+1;n<e.length&&e[n].focus()},function(){s=this.value,n(0,s)},function(){r=this.value,n(1,r)},function(){c=this.value,n(2,c)},function(){l=this.value,n(3,l)}]}class F extends B{constructor(t){super(),q(this,t,I,H,r,{})}}function G(t,e,n){const o=t.slice();return o[4]=e[n],o}function K(t){let e,n,o,s,r,h,g,$,v,b,y,x,k,E,w,C,_,S=t[4].name+"",O=t[4].email+"",j=t[4].address+"",T=t[4].leads+"";function z(){return t[3](t[4])}return{c(){e=i("div"),n=i("span"),o=a(S),s=f(),r=i("span"),h=a(O),g=f(),$=i("span"),v=a(j),b=f(),y=i("span"),x=a(T),k=f(),E=i("button"),E.innerHTML="<b>-</b>",w=f(),p(n,"class","name svelte-1clsxsb"),p(r,"class","email svelte-1clsxsb"),p($,"class","address svelte-1clsxsb"),p(y,"class","leads svelte-1clsxsb"),p(E,"class","svelte-1clsxsb"),p(e,"class","item svelte-1clsxsb")},m(t,u){l(t,e,u),c(e,n),c(n,o),c(e,s),c(e,r),c(r,h),c(e,g),c(e,$),c($,v),c(e,b),c(e,y),c(y,x),c(e,k),c(e,E),c(e,w),C||(_=d(E,"click",z),C=!0)},p(e,n){t=e,1&n&&S!==(S=t[4].name+"")&&m(o,S),1&n&&O!==(O=t[4].email+"")&&m(h,O),1&n&&j!==(j=t[4].address+"")&&m(v,j),1&n&&T!==(T=t[4].leads+"")&&m(x,T)},d(t){t&&u(e),C=!1,_()}}}function Q(e){let n,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=K(G(e,o,t));return{c(){n=i("div");for(let t=0;t<s.length;t+=1)s[t].c();p(n,"id","list"),p(n,"class","svelte-1clsxsb")},m(t,e){l(t,n,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null)},p(t,[e]){if(3&e){let r;for(o=t[0],r=0;r<o.length;r+=1){const c=G(t,o,r);s[r]?s[r].p(c,e):(s[r]=K(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},i:t,o:t,d(t){t&&u(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(s,t)}}}function V(t,e,n){let o=[];function s(){fetch("http://localhost:3000/getCustomers").then((t=>t.json())).then((t=>{n(0,o=t)})).catch((t=>{console.error("Error fetching customers:",t)}))}async function r(t){const{name:e,email:s,address:r,leads:c}=t,l=await fetch("http://localhost:3000/removeCustomer",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,address:r,leads:c})});l.ok?console.log("Removed "+e+s+r+c):console.error("Error removing "+e+l.status),n(0,o=o.filter((e=>e!==t)))}s();return[o,r,s,t=>r(t)]}class W extends B{constructor(t){super(),q(this,t,V,Q,r,{getCustomers:2})}get getCustomers(){return this.$$.ctx[2]}}function X(e){let n,s,r,a,m,g,$,v,b,y,x;return{c(){n=i("div"),s=i("div"),r=i("h1"),r.textContent="SUPER CPM",a=f(),m=i("input"),g=f(),$=i("input"),v=f(),b=i("button"),b.textContent="Log In",p(r,"class","svelte-1bguyzu"),p(m,"placeholder","Username"),p(m,"class","svelte-1bguyzu"),p($,"placeholder","Password"),p($,"type","password"),p($,"class","svelte-1bguyzu"),p(b,"class","svelte-1bguyzu"),p(s,"id","loginBox"),p(s,"class","svelte-1bguyzu"),p(n,"id","flexBox"),p(n,"class","svelte-1bguyzu")},m(t,o){l(t,n,o),c(n,s),c(s,r),c(s,a),c(s,m),h(m,e[0]),c(s,g),c(s,$),h($,e[1]),c(s,v),c(s,b),y||(x=[d(m,"input",e[3]),d($,"input",e[4]),d(b,"click",e[2])],y=!0)},p(t,[e]){1&e&&m.value!==t[0]&&h(m,t[0]),2&e&&$.value!==t[1]&&h($,t[1])},i:t,o:t,d(t){t&&u(n),y=!1,o(x)}}}function Y(t,e,n){const o=v();let s="",r="";return[s,r,async function(){try{const t=await fetch("localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:String(s),password:String(r)})});t.ok?(console.log("Login successful"),o("loginOk")):console.log(t.text)}catch(t){console.log("Error - "+t)}},function(){s=this.value,n(0,s)},function(){r=this.value,n(1,r)}]}class Z extends B{constructor(t){super(),q(this,t,Y,X,r,{})}}function tt(e){let n,o;return n=new Z({}),n.$on("loginOk",e[3]),{c(){P(n.$$.fragment)},m(t,e){A(n,t,e),o=!0},p:t,i(t){o||(L(n.$$.fragment,t),o=!0)},o(t){N(n.$$.fragment,t),o=!1},d(t){M(n,t)}}}function et(t){let e,n,o,s,r,c,i,a;e=new U({}),o=new F({}),o.$on("addedCustomer",t[2]);return r=new W({props:{}}),t[4](r),i=new D({}),{c(){P(e.$$.fragment),n=f(),P(o.$$.fragment),s=f(),P(r.$$.fragment),c=f(),P(i.$$.fragment)},m(t,u){A(e,t,u),l(t,n,u),A(o,t,u),l(t,s,u),A(r,t,u),l(t,c,u),A(i,t,u),a=!0},p(t,e){r.$set({})},i(t){a||(L(e.$$.fragment,t),L(o.$$.fragment,t),L(r.$$.fragment,t),L(i.$$.fragment,t),a=!0)},o(t){N(e.$$.fragment,t),N(o.$$.fragment,t),N(r.$$.fragment,t),N(i.$$.fragment,t),a=!1},d(l){M(e,l),l&&u(n),M(o,l),l&&u(s),t[4](null),M(r,l),l&&u(c),M(i,l)}}}function nt(t){let e,n,s,r;const c=[et,tt],a=[];function f(t,e){return t[1]?0:1}return n=f(t),s=a[n]=c[n](t),{c(){e=i("main"),s.c(),p(e,"class","svelte-144m3cz")},m(t,o){l(t,e,o),a[n].m(e,null),r=!0},p(t,[r]){let l=n;n=f(t),n===l?a[n].p(t,r):(z={r:0,c:[],p:z},N(a[l],1,1,(()=>{a[l]=null})),z.r||o(z.c),z=z.p,s=a[n],s?s.p(t,r):(s=a[n]=c[n](t),s.c()),L(s,1),s.m(e,null))},i(t){r||(L(s),r=!0)},o(t){N(s),r=!1},d(t){t&&u(e),a[n].d()}}}function ot(t,e,n){let o;let s=!1;return[o,s,function(){o.getCustomers()},function(){n(1,s=!0)},function(t){y[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}return new class extends B{constructor(t){super(),q(this,t,ot,nt,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
